{
  "id": "02c67ea6-69be-4cdc-ac46-d5de8b906e27",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.listings": {
      "name": "listings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "passport_id": {
          "name": "passport_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "seller_id": {
          "name": "seller_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "price_pence": {
          "name": "price_pence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'GBP'"
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "shipping_options": {
          "name": "shipping_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "blockchain_tx_hash": {
          "name": "blockchain_tx_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_listings_status": {
          "name": "idx_listings_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_listings_org": {
          "name": "idx_listings_org",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_listings_passport": {
          "name": "idx_listings_passport",
          "columns": [
            {
              "expression": "passport_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "listings_passport_id_material_passports_id_fk": {
          "name": "listings_passport_id_material_passports_id_fk",
          "tableFrom": "listings",
          "tableTo": "material_passports",
          "columnsFrom": [
            "passport_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "listings_organisation_id_organisations_id_fk": {
          "name": "listings_organisation_id_organisations_id_fk",
          "tableFrom": "listings",
          "tableTo": "organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "listings_seller_id_users_id_fk": {
          "name": "listings_seller_id_users_id_fk",
          "tableFrom": "listings",
          "tableTo": "users",
          "columnsFrom": [
            "seller_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.material_passports": {
      "name": "material_passports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "gtin": {
          "name": "gtin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "serial_number": {
          "name": "serial_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "digital_link_uri": {
          "name": "digital_link_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qr_code_url": {
          "name": "qr_code_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_name": {
          "name": "product_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category_l1": {
          "name": "category_l1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category_l2": {
          "name": "category_l2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "material_composition": {
          "name": "material_composition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "dimensions": {
          "name": "dimensions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "technical_specs": {
          "name": "technical_specs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "manufacturer_name": {
          "name": "manufacturer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_of_origin": {
          "name": "country_of_origin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "production_date": {
          "name": "production_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gwp_total": {
          "name": "gwp_total",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "embodied_carbon": {
          "name": "embodied_carbon",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "recycled_content": {
          "name": "recycled_content",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "epd_reference": {
          "name": "epd_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ce_marking": {
          "name": "ce_marking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "declaration_of_performance": {
          "name": "declaration_of_performance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "harmonised_standard": {
          "name": "harmonised_standard",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_building_id": {
          "name": "previous_building_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deconstruction_date": {
          "name": "deconstruction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deconstruction_method": {
          "name": "deconstruction_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reclaimed_by": {
          "name": "reclaimed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_grade": {
          "name": "condition_grade",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_notes": {
          "name": "condition_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_photos": {
          "name": "condition_photos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "original_age": {
          "name": "original_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "remaining_life_estimate": {
          "name": "remaining_life_estimate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "carbon_savings_vs_new": {
          "name": "carbon_savings_vs_new",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "circularity_score": {
          "name": "circularity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reuse_count": {
          "name": "reuse_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reuse_suitability": {
          "name": "reuse_suitability",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "handling_requirements": {
          "name": "handling_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hazardous_substances": {
          "name": "hazardous_substances",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "custom_attributes": {
          "name": "custom_attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "blockchain_tx_hash": {
          "name": "blockchain_tx_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blockchain_passport_hash": {
          "name": "blockchain_passport_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blockchain_anchored_at": {
          "name": "blockchain_anchored_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "registered_by": {
          "name": "registered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_passports_org": {
          "name": "idx_passports_org",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_passports_status": {
          "name": "idx_passports_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_passports_category": {
          "name": "idx_passports_category",
          "columns": [
            {
              "expression": "category_l1",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category_l2",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_passports_gtin": {
          "name": "idx_passports_gtin",
          "columns": [
            {
              "expression": "gtin",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_passports_search": {
          "name": "idx_passports_search",
          "columns": [
            {
              "expression": "to_tsvector('english', \"product_name\" || ' ' || coalesce(\"category_l1\", '') || ' ' || coalesce(\"category_l2\", '') || ' ' || coalesce(\"condition_notes\", ''))",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "material_passports_organisation_id_organisations_id_fk": {
          "name": "material_passports_organisation_id_organisations_id_fk",
          "tableFrom": "material_passports",
          "tableTo": "organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "material_passports_registered_by_users_id_fk": {
          "name": "material_passports_registered_by_users_id_fk",
          "tableFrom": "material_passports",
          "tableTo": "users",
          "columnsFrom": [
            "registered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organisations": {
      "name": "organisations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "branding": {
          "name": "branding",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "verified": {
          "name": "verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "blockchain_address": {
          "name": "blockchain_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisations_slug_unique": {
          "name": "organisations_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.passport_events": {
      "name": "passport_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "passport_id": {
          "name": "passport_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "blockchain_tx_hash": {
          "name": "blockchain_tx_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_passport_events_passport": {
          "name": "idx_passport_events_passport",
          "columns": [
            {
              "expression": "passport_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "passport_events_passport_id_material_passports_id_fk": {
          "name": "passport_events_passport_id_material_passports_id_fk",
          "tableFrom": "passport_events",
          "tableTo": "material_passports",
          "columnsFrom": [
            "passport_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "passport_events_actor_id_users_id_fk": {
          "name": "passport_events_actor_id_users_id_fk",
          "tableFrom": "passport_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quality_reports": {
      "name": "quality_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "passport_id": {
          "name": "passport_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "inspector_id": {
          "name": "inspector_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "structural_score": {
          "name": "structural_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aesthetic_score": {
          "name": "aesthetic_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "environmental_score": {
          "name": "environmental_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_grade": {
          "name": "overall_grade",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "report_notes": {
          "name": "report_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_urls": {
          "name": "photo_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "blockchain_tx_hash": {
          "name": "blockchain_tx_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disputed": {
          "name": "disputed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quality_reports_passport": {
          "name": "idx_quality_reports_passport",
          "columns": [
            {
              "expression": "passport_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quality_reports_inspector": {
          "name": "idx_quality_reports_inspector",
          "columns": [
            {
              "expression": "inspector_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quality_reports_passport_id_material_passports_id_fk": {
          "name": "quality_reports_passport_id_material_passports_id_fk",
          "tableFrom": "quality_reports",
          "tableTo": "material_passports",
          "columnsFrom": [
            "passport_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quality_reports_inspector_id_users_id_fk": {
          "name": "quality_reports_inspector_id_users_id_fk",
          "tableFrom": "quality_reports",
          "tableTo": "users",
          "columnsFrom": [
            "inspector_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sensor_readings": {
      "name": "sensor_readings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "passport_id": {
          "name": "passport_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sensor_type": {
          "name": "sensor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reading_value": {
          "name": "reading_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "blockchain_data_hash": {
          "name": "blockchain_data_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sensor_readings_passport": {
          "name": "idx_sensor_readings_passport",
          "columns": [
            {
              "expression": "passport_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sensor_readings_device": {
          "name": "idx_sensor_readings_device",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sensor_readings_created": {
          "name": "idx_sensor_readings_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sensor_readings_passport_id_material_passports_id_fk": {
          "name": "sensor_readings_passport_id_material_passports_id_fk",
          "tableFrom": "sensor_readings",
          "tableTo": "material_passports",
          "columnsFrom": [
            "passport_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "listing_id": {
          "name": "listing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "buyer_id": {
          "name": "buyer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "seller_id": {
          "name": "seller_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount_pence": {
          "name": "amount_pence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "dispute_deadline": {
          "name": "dispute_deadline",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "blockchain_tx_hash": {
          "name": "blockchain_tx_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transactions_listing": {
          "name": "idx_transactions_listing",
          "columns": [
            {
              "expression": "listing_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_buyer": {
          "name": "idx_transactions_buyer",
          "columns": [
            {
              "expression": "buyer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_status": {
          "name": "idx_transactions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_listing_id_listings_id_fk": {
          "name": "transactions_listing_id_listings_id_fk",
          "tableFrom": "transactions",
          "tableTo": "listings",
          "columnsFrom": [
            "listing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_buyer_id_users_id_fk": {
          "name": "transactions_buyer_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "buyer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_seller_id_users_id_fk": {
          "name": "transactions_seller_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "seller_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "blockchain_address": {
          "name": "blockchain_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notification_prefs": {
          "name": "notification_prefs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_organisation_id_organisations_id_fk": {
          "name": "users_organisation_id_organisations_id_fk",
          "tableFrom": "users",
          "tableTo": "organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}